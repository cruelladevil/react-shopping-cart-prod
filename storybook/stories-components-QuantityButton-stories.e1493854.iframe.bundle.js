"use strict";(self.webpackChunkreact_shopping_cart_prod=self.webpackChunkreact_shopping_cart_prod||[]).push([[299],{"./src/stories/components/QuantityButton.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Maximum:function(){return Maximum},Medium:function(){return Medium},Minimum:function(){return Minimum},__namedExportsOrder:function(){return __namedExportsOrder}});var _Minimum$parameters,_Minimum$parameters2,_Minimum$parameters2$,_Medium$parameters,_Medium$parameters2,_Medium$parameters2$d,_Maximum$parameters,_Maximum$parameters2,_Maximum$parameters2$,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),meta={component:__webpack_require__("./src/components/cart/QuantityButton.tsx").Z,title:"Components/Cart/QuantityButton",tags:["autodocs"]};__webpack_exports__.default=meta;var Minimum={args:{productId:1},argTypes:{productId:{control:{disable:!0},description:"상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다."}}},Medium={args:{productId:1},argTypes:{productId:{control:{disable:!0},description:"상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다."}}},Maximum={args:{productId:1},argTypes:{productId:{control:{disable:!0},description:"상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다."}}};Minimum.parameters=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},Minimum.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},null===(_Minimum$parameters=Minimum.parameters)||void 0===_Minimum$parameters?void 0:_Minimum$parameters.docs),{},{source:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({originalSource:"{\n  args: {\n    productId: 1\n  },\n  argTypes: {\n    productId: {\n      control: {\n        disable: true\n      },\n      description: '상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다.'\n    }\n  }\n}"},null===(_Minimum$parameters2=Minimum.parameters)||void 0===_Minimum$parameters2||null===(_Minimum$parameters2$=_Minimum$parameters2.docs)||void 0===_Minimum$parameters2$?void 0:_Minimum$parameters2$.source)})}),Medium.parameters=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},Medium.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},null===(_Medium$parameters=Medium.parameters)||void 0===_Medium$parameters?void 0:_Medium$parameters.docs),{},{source:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({originalSource:"{\n  args: {\n    productId: 1\n  },\n  argTypes: {\n    productId: {\n      control: {\n        disable: true\n      },\n      description: '상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다.'\n    }\n  }\n}"},null===(_Medium$parameters2=Medium.parameters)||void 0===_Medium$parameters2||null===(_Medium$parameters2$d=_Medium$parameters2.docs)||void 0===_Medium$parameters2$d?void 0:_Medium$parameters2$d.source)})}),Maximum.parameters=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},Maximum.parameters),{},{docs:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({},null===(_Maximum$parameters=Maximum.parameters)||void 0===_Maximum$parameters?void 0:_Maximum$parameters.docs),{},{source:(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_1__.Z)({originalSource:"{\n  args: {\n    productId: 1\n    // quantity: 99,\n  },\n\n  argTypes: {\n    productId: {\n      control: {\n        disable: true\n      },\n      description: '상품의 고유한 `id`입니다<br>해당 `id`의 `QuantityButton`이 됩니다.'\n    }\n  }\n}"},null===(_Maximum$parameters2=Maximum.parameters)||void 0===_Maximum$parameters2||null===(_Maximum$parameters2$=_Maximum$parameters2.docs)||void 0===_Maximum$parameters2$?void 0:_Maximum$parameters2$.source)})});var __namedExportsOrder=["Minimum","Medium","Maximum"]},"./src/components/cart/QuantityButton.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var _templateObject,_templateObject2,_templateObject3,_templateObject4,_templateObject5,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react_icons_bs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/react-icons/bs/index.esm.js"),recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),styled_components__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/styled-components/dist/styled-components.browser.esm.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/index.ts"),_hooks_useCart__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/hooks/useCart.ts"),_recoil__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/recoil/index.ts"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/react/jsx-runtime.js"),QuantityButton=function QuantityButton(_ref){var productId=_ref.productId,min=_ref.min,max=_ref.max,quantity=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.sJ)((0,_recoil__WEBPACK_IMPORTED_MODULE_3__.Ov)(productId)),_useSetCart=(0,_hooks_useCart__WEBPACK_IMPORTED_MODULE_2__.Q)(productId),updateCart=_useSetCart.updateCart,removeItemFromCart=_useSetCart.removeItemFromCart;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(Wrapper,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(DownButton,{quantity:quantity,min:min,onClick:function decreaseQuantity(){quantity!==min&&(quantity!==_constants__WEBPACK_IMPORTED_MODULE_1__.uT.INITIAL?updateCart(quantity-_constants__WEBPACK_IMPORTED_MODULE_1__.uT.STEP):removeItemFromCart())},"aria-label":"button-to-lower-quantity",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_5__.pZ2,{})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Quantity,{children:quantity}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(UpButton,{quantity:quantity,max:max,onClick:function increaseQuantity(){quantity!==max&&updateCart(quantity+_constants__WEBPACK_IMPORTED_MODULE_1__.uT.STEP)},"aria-label":"button-to-raise-quantity",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_icons_bs__WEBPACK_IMPORTED_MODULE_5__.L3d,{})})]})},Wrapper=styled_components__WEBPACK_IMPORTED_MODULE_6__.zo.div(_templateObject||(_templateObject=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__.Z)(["\n  display: flex;\n  height: 32px;\n\n  @media (max-width: 548px) {\n    margin-bottom: 6px;\n  }\n"]))),Quantity=styled_components__WEBPACK_IMPORTED_MODULE_6__.zo.span(_templateObject2||(_templateObject2=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__.Z)(["\n  display: block;\n  width: 34px;\n  border-top: 1px solid var(--gray-color-200);\n  border-bottom: 1px solid var(--gray-color-200);\n  text-align: center;\n  font-size: 14px;\n  line-height: 30px;\n  cursor: default;\n\n  @media (max-width: 548px) {\n    font-size: 13px;\n  }\n"]))),StyledButton=styled_components__WEBPACK_IMPORTED_MODULE_6__.zo.button(_templateObject3||(_templateObject3=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__.Z)(["\n  width: 26px;\n  max-width: 26px;\n  border: 1px solid var(--gray-color-200);\n  font-size: 16px;\n  background: none;\n  cursor: pointer;\n"]))),UpButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_6__.zo)(StyledButton)(_templateObject4||(_templateObject4=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__.Z)(["\n  &[aria-label='button-to-raise-quantity'] {\n    border-left: 0;\n    cursor: ",";\n\n    & > svg {\n      fill: ",";\n    }\n  }\n"])),(function(props){return props.quantity===props.max&&"default"}),(function(props){return props.quantity===props.max&&"var(--gray-color-100)"})),DownButton=(0,styled_components__WEBPACK_IMPORTED_MODULE_6__.zo)(StyledButton)(_templateObject5||(_templateObject5=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_7__.Z)(["\n  &[aria-label='button-to-lower-quantity'] {\n    border-right: 0;\n    cursor: ",";\n\n    & > svg {\n      fill: ",";\n    }\n  }\n"])),(function(props){return props.quantity===props.min&&"default"}),(function(props){return props.quantity===props.min&&"var(--gray-color-100)"}));__webpack_exports__.Z=QuantityButton;try{QuantityButton.displayName="QuantityButton",QuantityButton.__docgenInfo={description:"",displayName:"QuantityButton",props:{productId:{defaultValue:null,description:"",name:"productId",required:!0,type:{name:"number"}},min:{defaultValue:null,description:"",name:"min",required:!0,type:{name:"number"}},max:{defaultValue:null,description:"",name:"max",required:!0,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/cart/QuantityButton.tsx#QuantityButton"]={docgenInfo:QuantityButton.__docgenInfo,name:"QuantityButton",path:"src/components/cart/QuantityButton.tsx#QuantityButton"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useCart.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Q:function(){return useSetCart}});var _home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js"),_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/index.ts"),_constants_url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/url.ts"),_recoil__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/recoil/index.ts"),_useFetchData__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/hooks/useFetchData.ts"),useSetCart=function useSetCart(productId){var _useRecoilState=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.FV)(_recoil__WEBPACK_IMPORTED_MODULE_3__.dl),_useRecoilState2=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_5__.Z)(_useRecoilState,2),cart=_useRecoilState2[0],setCart=_useRecoilState2[1],selectedProduct=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.sJ)((0,_recoil__WEBPACK_IMPORTED_MODULE_3__.TP)(productId)),server=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.sJ)(_recoil__WEBPACK_IMPORTED_MODULE_3__.vB),api=(0,_useFetchData__WEBPACK_IMPORTED_MODULE_4__.Z)().api,findCartItemIndex=function findCartItemIndex(prev){var cart=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_6__.Z)(prev),cartItemIndex=prev.findIndex((function(item){return item.product.id===productId}));return{cart:cart,cartItemIndex:cartItemIndex,alreadyHasCartItem:cartItemIndex>=_constants__WEBPACK_IMPORTED_MODULE_1__.Ui}},findCartItemId=function findCartItemId(){var _cart$find;return null===(_cart$find=cart.find((function(item){return item.product.id===productId})))||void 0===_cart$find?void 0:_cart$find.id},addToCart=function(){var _ref=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_8__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__.Z)().mark((function _callee(){var response,location,cartId;return(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_regeneratorRuntime_js__WEBPACK_IMPORTED_MODULE_9__.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,api.post("".concat(server).concat(_constants_url__WEBPACK_IMPORTED_MODULE_2__.fh),{productId:productId});case 3:if(response=_context.sent,location=response.headers.get("location"),cartId=null==location?void 0:location.replace("".concat(_constants_url__WEBPACK_IMPORTED_MODULE_2__.fh,"/"),""),selectedProduct){_context.next=8;break}return _context.abrupt("return");case 8:setCart((function(prev){return[].concat((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_toConsumableArray_js__WEBPACK_IMPORTED_MODULE_6__.Z)(prev),[{id:Number(cartId),quantity:_constants__WEBPACK_IMPORTED_MODULE_1__.uT.INITIAL,product:selectedProduct,isSelected:!0}])})),_context.next=14;break;case 11:_context.prev=11,_context.t0=_context.catch(0),alert(_context.t0);case 14:case"end":return _context.stop()}}),_callee,null,[[0,11]])})));return function addToCart(){return _ref.apply(this,arguments)}}();return{addToCart:addToCart,removeItemFromCart:function removeItemFromCart(){var cartItemId=findCartItemId();api.delete("".concat(server).concat(_constants_url__WEBPACK_IMPORTED_MODULE_2__.fh),{cartItemIdList:[cartItemId]}).then((function(){setCart((function(prev){var _findCartItemIndex2=findCartItemIndex(prev),cart=_findCartItemIndex2.cart,cartItemIndex=_findCartItemIndex2.cartItemIndex;return _findCartItemIndex2.alreadyHasCartItem?function removeProduct(cart,cartItemIndex){return cartItemIndex>=_constants__WEBPACK_IMPORTED_MODULE_1__.Ui&&cart.splice(cartItemIndex,_constants__WEBPACK_IMPORTED_MODULE_1__.AV),cart}(cart,cartItemIndex):prev}))})).catch((function(error){alert(error.message)}))},updateCart:function updateCart(value){var quantity=value,cartItemId=findCartItemId();api.patch("".concat(server).concat(_constants_url__WEBPACK_IMPORTED_MODULE_2__.fh,"/").concat(cartItemId),{quantity:quantity}).then((function(){setCart((function(prev){var _findCartItemIndex=findCartItemIndex(prev),cart=_findCartItemIndex.cart,cartItemIndex=_findCartItemIndex.cartItemIndex,updatedItem=(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_7__.Z)({},prev[cartItemIndex]),{},{quantity:Number(value)});return cart[cartItemIndex]=updatedItem,cart}))})).catch((function(error){alert(error.message)}))}}}},"./src/hooks/useFetchData.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Z:function(){return hooks_useFetchData}});var regeneratorRuntime=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js"),asyncToGenerator=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),slicedToArray=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),react=__webpack_require__("./node_modules/react/index.js"),fetchApi=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(url,options){var response,contentType;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:if(navigator.onLine){_context.next=2;break}throw new Error("[ERROR] 네트워크가 오프라인 상태입니다.");case 2:return _context.next=4,fetch(url,options);case 4:if((response=_context.sent).ok){_context.next=7;break}throw new Error("[ERROR] 에러가 발생하였습니다.");case 7:if(!(contentType=response.headers.get("content-type"))||!contentType.includes("application/json")){_context.next=12;break}return _context.next=11,response.json();case 11:return _context.abrupt("return",_context.sent);case 12:return _context.abrupt("return",response);case 13:case"end":return _context.stop()}}),_callee)})));return function fetchApi(_x,_x2){return _ref.apply(this,arguments)}}(),hooks_useFetchData=function useFetchData(){var _useState=(0,react.useState)(!0),_useState2=(0,slicedToArray.Z)(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1],fetchData=function(){var _ref=(0,asyncToGenerator.Z)((0,regeneratorRuntime.Z)().mark((function _callee(url,body){var data;return(0,regeneratorRuntime.Z)().wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.prev=0,_context.next=3,fetchApi(url,body);case 3:return data=_context.sent,_context.abrupt("return",data);case 7:throw _context.prev=7,_context.t0=_context.catch(0),_context.t0;case 10:return _context.prev=10,setIsLoading(!1),_context.finish(10);case 13:case"end":return _context.stop()}}),_callee,null,[[0,7,10,13]])})));return function fetchData(_x,_x2){return _ref.apply(this,arguments)}}();return{api:{get:function get(url){return fetchData(url,{method:"GET",headers:{Authorization:"Basic YkBiLmNvbToxMjM0","Content-Type":"application/json"}})},post:function post(url,body){return fetchData(url,{method:"POST",headers:{Authorization:"Basic YkBiLmNvbToxMjM0","Content-Type":"application/json"},body:JSON.stringify(body)})},patch:function patch(url,body){return fetchData(url,{method:"PATCH",headers:{Authorization:"Basic YkBiLmNvbToxMjM0","Content-Type":"application/json"},body:JSON.stringify(body)})},delete:function _delete(url,body){return fetchData(url,{method:"DELETE",headers:{Authorization:"Basic YkBiLmNvbToxMjM0","Content-Type":"application/json"},body:JSON.stringify(body)})}},isLoading:isLoading}}},"./src/recoil/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{Ov:function(){return quantitySelector},TP:function(){return productSelector},_u:function(){return cartBadgeSelector},_y:function(){return serverNameState},cq:function(){return productsState},dl:function(){return cartState},fD:function(){return selectedCartItems},iH:function(){return totalPriceSelector},vB:function(){return serverState}});var _home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@babel/runtime/helpers/esm/objectSpread2.js"),recoil__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/recoil/es/index.js"),_constants__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./src/constants/index.ts"),_constants_url__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/constants/url.ts"),logEffect=function logEffect(header){return function(_ref){(0,_ref.onSet)((function(newValue){console.log("[".concat(header,"]"),newValue)}))}},productsState=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.cn)({key:"productsState",default:[],effects:[logEffect("PRODUCTS")]}),productSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"productSelector",get:function get(id){return function(_ref2){return(0,_ref2.get)(productsState).find((function(product){return product.id===id}))}}}),cartState=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.cn)({key:"cartState",default:[],effects:[logEffect("CART")]}),quantitySelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.CG)({key:"quantitySelector",get:function get(id){return function(_ref3){var selectedCartItem=(0,_ref3.get)(cartState).find((function(item){return item.product.id===id}));return selectedCartItem?selectedCartItem.quantity:_constants__WEBPACK_IMPORTED_MODULE_1__.uT.NONE}},set:function set(id){return function(_ref4,newQuantity){var get=_ref4.get,set=_ref4.set,cart=get(cartState),selectedCartItem=cart.find((function(item){return item.product.id===id})),quantity=newQuantity instanceof recoil__WEBPACK_IMPORTED_MODULE_0__.nY?_constants__WEBPACK_IMPORTED_MODULE_1__.uT.INITIAL:newQuantity,newCart=cart.map((function(cartItem){return cartItem===selectedCartItem?(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},cartItem),{},{quantity:quantity}):cartItem}));set(cartState,newCart)}}}),cartBadgeSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.nZ)({key:"cartBadgeSelector",get:function get(_ref5){return(0,_ref5.get)(cartState).length}}),selectedCartItems=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.nZ)({key:"selectedCartItems",get:function get(_ref6){return(0,_ref6.get)(cartState).filter((function(_ref7){return _ref7.isSelected})).map((function(_ref8){return _ref8.id}))},set:function set(_ref9,newValue){var get=_ref9.get,_set=_ref9.set;if(!(newValue instanceof recoil__WEBPACK_IMPORTED_MODULE_0__.nY)){var newCartItems=get(cartState).map((function(cartItem){return newValue.includes(cartItem.id)?(0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)((0,_home_runner_work_react_shopping_cart_prod_react_shopping_cart_prod_node_modules_babel_runtime_helpers_esm_objectSpread2_js__WEBPACK_IMPORTED_MODULE_3__.Z)({},cartItem),{},{isSelected:!cartItem.isSelected}):cartItem}));_set(cartState,newCartItems)}}}),totalPriceSelector=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.nZ)({key:"totalPriceSelector",get:function get(_ref10){return(0,_ref10.get)(cartState).filter((function(_ref11){return _ref11.isSelected})).reduce((function(total,_ref12){return total+_ref12.quantity*_ref12.product.price}),0)}}),serverNameState=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.cn)({key:"serverNameState",default:"MSW",effects:[logEffect("SERVER")]}),serverState=(0,recoil__WEBPACK_IMPORTED_MODULE_0__.nZ)({key:"serverState",get:function get(_ref13){var _get4=_ref13.get;return _constants_url__WEBPACK_IMPORTED_MODULE_2__.cN[_get4(serverNameState)]}})}}]);